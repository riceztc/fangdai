<view class="container">
  <view class="result-card">
    <view class="card-header">
      <view class="title">计算结果</view>
      <view class="reset-btn" bindtap="handleReset">重新计算</view>
    </view>
    
    <!-- 主要数字 -->
    <view class="main-number">
      <view class="main-label">
        {{repaymentMethod === '等额本息' ? '每月应还' : '首月应还'}}
      </view>
      <view class="main-value">{{totalMonthlyFormatted}}</view>
      <view wx:if="{{repaymentMethod === '等额本金'}}" class="decrease-hint">
        每月递减 {{monthlyDecreaseFormatted}}
      </view>
    </view>
    
    <!-- 详情网格 -->
    <view class="grid grid-cols-2 details-grid">
      <view class="detail-item">
        <view class="detail-label">利息总额</view>
        <view class="detail-value">{{totalInterestFormatted}}</view>
      </view>
      <view class="detail-item">
        <view class="detail-label">累计还款</view>
        <view class="detail-value">{{totalRepaymentFormatted}}</view>
      </view>
      <view class="detail-item">
        <view class="detail-label">贷款总额</view>
        <view class="detail-value">{{totalAmountFormatted}}</view>
      </view>
      <view class="detail-item">
        <view class="detail-label">贷款期限</view>
        <view class="detail-value">{{months}}个月</view>
      </view>
    </view>
    
    <!-- 还款计划表格 -->
    <view class="repayment-schedule">
      <view class="schedule-header">还款计划表</view>
      <scroll-view class="table-container" scroll-y="true">
        <view class="table">
          <view class="table-header">
            <view class="table-cell header-cell">期数</view>
            <view class="table-cell header-cell">月供</view>
            <view class="table-cell header-cell">本金</view>
            <view class="table-cell header-cell">利息</view>
            <view class="table-cell header-cell">剩余本金</view>
          </view>
          <view wx:for="{{paymentSchedule}}" wx:key="month" class="table-row">
            <view class="table-cell">{{item.month}}</view>
            <view class="table-cell">{{item.paymentFormatted}}</view>
            <view class="table-cell">{{item.principalFormatted}}</view>
            <view class="table-cell">{{item.interestFormatted}}</view>
            <view class="table-cell">{{item.remainingFormatted}}</view>
          </view>
        </view>
      </scroll-view>
    </view>
  </view>
</view>
